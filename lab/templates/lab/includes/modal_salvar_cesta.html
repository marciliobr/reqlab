<div class="modal fade" id="modal_salvar_cesta" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header gradiente">
                <h6 class="modal-title light"><i class="fas fa-shopping-basket p-1" style="color:#FFC107"></i> SALVAR
                    CESTA PARA USO POSTERIOR</h6>
                <button type="button" class="close text-warning" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body bg-light">
                <!--Nome-->
                <i class="fas text-secondary"><i class="fas fa-file-signature p-1" style="color:#ad850b"></i>INFORME UM
                    NOME PARA ESTA CESTA </i>
                <section class="border-top border-warning p-2 mb-3">
                    <form id="form_salvar_cesta" method="post" action="{% url 'cestas_salvas' 0 %}" novalidate>
                        {% csrf_token %}
                        <div class="form-row">

                            <div class="col-12">
                                <input id="id_itens_salvar_cesta" name="itens" type="hidden" value="">
                                <input id="input_salvar_cesta" type="text" class="form-control" maxlength="50"
                                    name="nome" required>
                                <small>
                                    <i class="float-right text-right text-secondary"> (m√°ximo de 50 caracteres)</i>
                                    <label id="label_salvar_cesta"></label>
                                </small>
                            </div>
                        </div>
                    </form>
                </section>
            </div>

            <div class="modal-footer gradiente">
                <button id="button_salvar_cesta" class="btn btn-warning" type="button"
                    onclick="enviar_modal('salvar_cesta','Cesta salva com sucesso!')">
                    Salvar Cesta
                </button>
            </div>
        </div>
    </div>
</div>
<script>
    function salvar_cesta_get_itens() {

        var campo_sc = document.getElementById('id_itens_salvar_cesta');


        var itens_sc = '';
        Object.keys(sessionStorage).forEach(function (key) {
            item = JSON.parse(sessionStorage.getItem(key));
            itens_sc += '{ "id":' + item.id + ', ';
            itens_sc += '"quantidade":' + item.quantidade + ' },';
        });
        if (itens_sc != '') {
            itens_sc = '[' + itens_sc.substring(0, (itens_sc.length - 1)) + ']';
        }
        campo_sc.value = itens_sc;
    }
</script>